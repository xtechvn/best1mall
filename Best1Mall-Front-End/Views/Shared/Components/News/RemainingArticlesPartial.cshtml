@using Best1Mall_Front_End.Utilities;
@using Best1Mall_Front_End.ViewModels
@model ArticleViewModel


@if (Model?.obj_article_list == null || !Model.obj_article_list.Any())
{
    <div class="text-center py-4 text-gray-500">Không có bài viết nào.</div>
}
else
{
    int d = 0;
    <div class="list-news list-news grid" id="section-article-paginate">
        @foreach (var item in Model.obj_article_list)
        {
            var safeTitle = item.title ?? "";
            var link = Html.GetStaticUrlNews(safeTitle, item.id);

            <article class="item-news flex flex-wrap md:flex-nowrap md:gap-4 gap-2 items-start w-full border-t border-gray-200 mt-3 pt-3">
                <div class="aspect-[5/3] w-full lg:max-w-[300px] md:max-w-[200px] shrink-0">
                    <a href="@link">
                        <img src="@item.image_169" alt="@item.title" class="w-full h-full object-cover md:rounded-3xl rounded-xl" />
                    </a>
                </div>
                <div class="flex-1">
                    <a href="@link">
                        <div class="text-sm text-gray-500 flex items-center gap-1 mb-2">
                            <span>@item.publish_date.ToString("dd/MM/yyyy") | @item.category_name?.Split(',').FirstOrDefault()</span>
                        </div>
                        <h2 class="text-md font-medium text-slate-800 leading-snug hover:text-blue-600 transition">@item.title</h2>
                        <p class="text-gray-500 text-sm mt-2">@item.lead</p>
                        <span class="text-color-base hidden md:flex gap-2 items-center mt-2">
                            Đọc tiếp
                            <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">
                                <path d="M12.773 9.39792L7.14798 15.0229C7.09 15.08 7.03 15.12 6.96 15.14C6.89 15.17 6.82 15.19 6.75 15.19C6.68 15.19 6.6 15.17 6.53 15.14C6.46 15.12 6.4 15.08 6.35 15.02C6.3 14.97 6.26 14.91 6.23 14.84C6.2 14.77 6.19 14.7 6.19 14.62C6.19 14.55 6.2 14.48 6.23 14.41C6.26 14.34 6.3 14.28 6.35 14.23L11.58 9L6.35 3.77C6.25 3.67 6.19 3.52 6.19 3.37C6.19 3.23 6.25 3.08 6.35 2.98C6.46 2.87 6.6 2.81 6.75 2.81C6.9 2.81 7.04 2.87 7.15 2.98L12.773 8.60198C12.8253 8.65422 12.8668 8.71626 12.8951 8.78454C12.9234 8.85283 12.9379 8.92603 12.9379 8.99995C12.9379 9.07387 12.9234 9.14706 12.8951 9.21535C12.8668 9.28364 12.8253 9.34567 12.773 9.39792Z" fill="#773EFA" />
                            </svg>
                        </span>
                    </a>
                </div>
            </article>

            @if (d == 3)
            {
                <div class="banner-ads-full mt-4">
                    <a href="/"><img src="~/assets/images/banner.jpg" alt="Biolife" /></a>
                </div>
            }
            d++;
        }
    </div>
}

